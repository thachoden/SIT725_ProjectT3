<header>
  <div id="topNav">
    <a href="/homepage" id="logo">
      <img src="/icons/GPIcon.png" alt="Logo" width="50" height="50" />
      <span class="logo-text">GoPick</span>
    </a>

    <div class="search-container">
  <input type="text" class="search-bar" placeholder="Search products..." />
  <button class="search-btn"><img src="/icons/search.png" width="20" height="20" alt="search"/></button>
</div>


    <div class="user-section">
      <a href="/cart" class="cart-link">
        <img src="/icons/cart.png" alt="cart" width="30" height="30" >
        <span class="cart-badge" id="cartBadge"></span>
      </a>

      <% if (user) { %>
        <!-- User is logged in -->
        <div class="user-profile-wrapper">
          <div class="user-profile" id="userProfile">
            <img src="<%= user.avatar || '/icons/avatar.png' %>" alt="<%= user.name %>" width="40" height="40" class="avatar">
            <span class="user-name">Hi, <%= user.name %></span>
          </div>
          
          <!-- Dropdown Menu -->
          <div class="dropdown-menu" id="dropdownMenu">
            <a href="/account" class="dropdown-item">My Account</a>
            <a href="/orders" class="dropdown-item">My Orders</a>
            <% if (user.role === 'admin') { %>
              <a href="/admin" class="dropdown-item">Admin Panel</a>
            <% } %>
            <hr class="dropdown-divider">
            <a href="#" class="dropdown-item logout-btn" id="logoutBtn">Logout</a>
          </div>
        </div>
      <% } else { %>
        <!-- User is not logged in -->
        <a href="/login" class="login-btn">Login</a>
      <% } %>
    </div>

    <a href="/ai" title="AI assistant">
  <img src="/icons/ai.png" alt="AI" width="30" height="30" />
</a>

    <a href="/cart">
      <img src="/icons/cart.png" alt="cart" width="30" height="30" >
    </a>
  </div>

  <nav>
    <a href="#">Products</a>
    <a href="/faq">FAQs</a>
    <a href="/account">My Account</a>
  </nav>
</header>

<script src="/js/navbar.js"></script>
